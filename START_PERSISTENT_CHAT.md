# ğŸš€ å¿«é€Ÿå¼€å§‹ - æŒä¹…åŒ–å¤šè½®å¯¹è¯

## âš¡ ä¸€é”®å¯åŠ¨

```bash
# ä»é¡¹ç›®æ ¹ç›®å½•è¿è¡Œ
./scripts/test-persistent-chat.sh
```

å°±è¿™ä¹ˆç®€å•ï¼è„šæœ¬ä¼šè‡ªåŠ¨ï¼š

1. âœ… ç¼–è¯‘æŒä¹…åŒ– Bridge
2. âœ… ç¼–è¯‘ MCP æœåŠ¡å™¨
3. âœ… å¯åŠ¨äº¤äº’å¼å¯¹è¯

---

## ğŸ§ª æµ‹è¯• AI è®°å¿†

å¯åŠ¨åï¼Œè¯•è¯•è¿™ä¸ªå¯¹è¯ï¼š

```
ä½  > ä½ å¥½ï¼Œæˆ‘å«å°æ˜ï¼Œæˆ‘æ˜¯ä¸€ä¸ªå‰ç«¯å·¥ç¨‹å¸ˆ

ğŸ¤– AI > ä½ å¥½å°æ˜ï¼å¾ˆé«˜å…´è®¤è¯†ä½ ã€‚ä½œä¸ºå‰ç«¯å·¥ç¨‹å¸ˆï¼Œä½ æœ‰ä»€ä¹ˆæˆ‘å¯ä»¥å¸®åŠ©çš„å—ï¼Ÿ

ä½  > æˆ‘åˆšæ‰è¯´æˆ‘å«ä»€ä¹ˆåå­—ï¼Ÿ

ğŸ¤– AI > ä½ åˆšæ‰è¯´ä½ å«å°æ˜ã€‚

ä½  > æˆ‘æ˜¯åšä»€ä¹ˆå·¥ä½œçš„ï¼Ÿ

ğŸ¤– AI > ä½ æ˜¯ä¸€ä¸ªå‰ç«¯å·¥ç¨‹å¸ˆã€‚
```

**âœ¨ çœ‹åˆ°äº†å—ï¼ŸAI è®°ä½äº†ä½ çš„åå­—å’ŒèŒä¸šï¼**

---

## ğŸ“ å¯ç”¨å‘½ä»¤

| å‘½ä»¤             | åŠŸèƒ½                           |
| ---------------- | ------------------------------ |
| æ­£å¸¸è¾“å…¥         | å‘é€æ¶ˆæ¯ç»™ AI                  |
| `info`           | æŸ¥çœ‹å½“å‰ Session ID å’Œç»Ÿè®¡ä¿¡æ¯ |
| `reset`          | é‡ç½®ä¼šè¯ï¼ˆå¼€å§‹æ–°çš„å¯¹è¯ï¼‰       |
| `exit` æˆ– `quit` | é€€å‡ºç¨‹åº                       |

---

## ğŸ”‘ æ ¸å¿ƒç‰¹æ€§

âœ… **æ‰€æœ‰å¯¹è¯éƒ½åœ¨åŒä¸€ä¸ª Session ä¸­**  
âœ… **AI è®°ä½æ‰€æœ‰å†å²å¯¹è¯**  
âœ… **æ”¯æŒå·¥å…·è°ƒç”¨ï¼ˆæ–‡ä»¶æ“ä½œã€ä»£ç åˆ†æç­‰ï¼‰**  
âœ… **æ›´å¿«çš„å“åº”é€Ÿåº¦ï¼ˆè¿›ç¨‹å¤ç”¨ï¼‰**

---

## ğŸ’¡ ä½¿ç”¨å»ºè®®

### 1. é•¿æ—¶é—´å¯¹è¯

å¦‚æœå¯¹è¯è½®æ•°å¤ªå¤šï¼ˆ>50 è½®ï¼‰ï¼Œå¯ä»¥ä½¿ç”¨ `reset` é‡ç½®ä¼šè¯ä»¥æå‡æ€§èƒ½ï¼š

```
ä½  > reset
ğŸ”„ ä¼šè¯å·²é‡ç½®ï¼Œä¸‹æ¬¡æŸ¥è¯¢å°†åˆ›å»ºæ–°ä¼šè¯
```

### 2. æŸ¥çœ‹ä¼šè¯ä¿¡æ¯

éšæ—¶è¾“å…¥ `info` æŸ¥çœ‹å½“å‰çŠ¶æ€ï¼š

```
ä½  > info

ğŸ“Š ä¼šè¯ä¿¡æ¯:
   å·¥ä½œç›®å½•: /tmp/test-workspace
   å·²å¯¹è¯è½®æ•°: 5
   Session ID: f8a3c2d1...
   çŠ¶æ€: æ´»è·ƒï¼ˆAI è®°ä½æ‰€æœ‰å†å²å¯¹è¯ï¼‰
```

### 3. ä»£ç åˆ†æä»»åŠ¡

AI å¯ä»¥ä½¿ç”¨å·¥å…·åˆ†æä½ çš„é¡¹ç›®ï¼š

```
ä½  > å¸®æˆ‘åˆ†æä¸€ä¸‹ /path/to/my-project è¿™ä¸ªé¡¹ç›®

ğŸ¤– AI > å¥½çš„ï¼Œè®©æˆ‘æ¥åˆ†æ...
     [è°ƒç”¨ @codebase/scan å·¥å…·]
     [è°ƒç”¨ @codebase/analyze å·¥å…·]

     åˆ†æå®Œæˆï¼è¿™ä¸ªé¡¹ç›®åŒ…å«ï¼š
     - 50 ä¸ª Vue ç»„ä»¶
     - 30 ä¸ª TypeScript æ–‡ä»¶
     - ...
```

---

## ğŸ› é‡åˆ°é—®é¢˜ï¼Ÿ

### é—®é¢˜ï¼šBridge æœªç¼–è¯‘

```bash
é”™è¯¯: æ‰¾ä¸åˆ° mcp-agent-bridge-persistent.js

è§£å†³æ–¹æ¡ˆ:
cd scripts
pnpm run build:mcp-persistent
```

### é—®é¢˜ï¼šAPI Key é”™è¯¯

```bash
é”™è¯¯: 401 Unauthorized

è§£å†³æ–¹æ¡ˆ:
1. æ£€æŸ¥ .env æ–‡ä»¶ä¸­çš„ ANTHROPIC_API_KEY
2. æˆ–è®¾ç½®ç¯å¢ƒå˜é‡:
   export ANTHROPIC_API_KEY="your-key-here"
```

---

## ğŸ“š è¯¦ç»†æ–‡æ¡£

- ğŸ“– [æŒä¹…åŒ–å¯¹è¯å®Œæ•´æŒ‡å—](./PERSISTENT_CHAT_GUIDE.md)
- ğŸ”„ [ä»£ç å˜æ›´æ€»ç»“](./PERSISTENT_CHAT_CHANGES.md)
- ğŸ—ï¸ [å®Œæ•´æ¶æ„æ–‡æ¡£](./COMPLETE_ARCHITECTURE.md)
- ğŸ¤– [Claude Agent SDK æ·±åº¦è§£æ](./CLAUDE_AGENT_SDK_DEEP_DIVE.md)

---

## ğŸ‰ å¼€å§‹ä½¿ç”¨å§ï¼

```bash
./scripts/test-persistent-chat.sh
```

äº«å—ä½ çš„ AI åŠ©æ‰‹ï¼ğŸš€
